<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>事件委托或事件代理</title>
</head>
<body>
    <ul id="ull">
        <li>111</li>
        <li>22</li>
        <li>33</li>
        <li>44</li>
        <li>555</li>
    </ul>

    <input type="button" name='' id='btn' value="添加">
    <ul id="ul2">
        <li>1111</li>
        <li>2222</li>
        <li>3333</li>
        <li>4444</li>
        <li>5555</li>
    </ul>

    <script>
        /*window.onload = function () {
            var oUl = document.getElementById('ull');
            var aLi = oUl.getElementsByTagName('li');
            for( var i = 0; i < aLi.length; i++ ) {
                aLi[i].onclick = function () {
                    alert('li');
                }
            }
        }*/

        //事件代理方法
        // window.onload = function() {
        //     var oUl = document.getElementById('ull');
        //     oUl.onclick = function(ev) {
        //         var ev = ev || window.event;
        //         var target = ev.target || ev.srcElement;
        //         if( target.nodeName.toLowerCase() == 'li' ) {
        //             alert(123);
        //             alert(target.innerHTML);
        //         }
        //     }
        // }

        // window.onload = function(){
		//     　　var oUl = document.getElementById("ull");
		//     　　oUl.onclick = function(ev){
		//     	　　　　var ev = ev || window.event;
		//    		　　　　var target = ev.target || ev.srcElement;
		//         　　　　if(target.nodeName.toLowerCase() == 'li'){
		//         　 　　　　　　	alert(123);
		// 　　　　　　　  alert(target.innerHTML);
		// 		　　　　}
		//     　　}
		// }
            

        /*事件委托，让新添加的元素也带有事件*/
        window.onload = function() {
            var BTN = document.getElementById('btn');
            var oUl = document.getElementById('ul2');
            var allLi = oUl.getElementsByClassName('li');
            var num = 4;

            //添加子元素
            oUl.onmousemove = function(ev) {
                var ev = ev || window.event;
                var target = ev.target || ev.srcElement;
                if(target.nodeName.toLowerCase() == 'li') {
                    target.style.background = 'red';
                }
            };

            oUl.onmouseout = function(ev) {
                var ev = ev || window.event;
                var target = ev.target || ev.srcElement;
                if(target.nodeName.toLowerCase() == 'li'){
                    target.style.background = '';
                }
            }

            BTN.onclick = function() {
                num++;
                var oLi = document.createElement('li');
                oLi.innerHTML = 111*num;
                oUl.appendChild(oLi);
            }
        }
    </script>
</body>
</html>